Creating network "kursovaya_main_app-network" with driver "bridge"
Building backend
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  31.93MB
Step 1/13 : FROM golang:1.24 AS builder
 ---> 34551cffd701
Step 2/13 : RUN apt-get update && apt-get install -y gcc musl-dev libpq-dev pkg-config
 ---> Using cache
 ---> 510640abff96
Step 3/13 : WORKDIR /app
 ---> Using cache
 ---> b708edff24ae
Step 4/13 : COPY go.mod go.sum ./
 ---> Using cache
 ---> 31f2380ce466
Step 5/13 : RUN go mod download
 ---> Using cache
 ---> 3f44d6b79a3a
Step 6/13 : COPY . .
 ---> Using cache
 ---> 30b22f5a5f43
Step 7/13 : RUN CGO_ENABLED=1 GOOS=linux go build -a -installsuffix cgo -o main ./cmd/server
 ---> Using cache
 ---> ff92b6759815
Step 8/13 : FROM ubuntu:22.04
 ---> 9fa3e2b5204f
Step 9/13 : RUN apt-get update && apt-get install -y ca-certificates libpq5 && rm -rf /var/lib/apt/lists/*
 ---> Using cache
 ---> 4c0355f6de88
Step 10/13 : WORKDIR /root/
 ---> Using cache
 ---> 5aef7e33021e
Step 11/13 : COPY --from=builder /app/main .
 ---> Using cache
 ---> be50a66dd58c
Step 12/13 : EXPOSE 8080
 ---> Using cache
 ---> 69b2462a9335
Step 13/13 : CMD ["./main"]
 ---> Using cache
 ---> 5238f3796ccf
Successfully built 5238f3796ccf
Successfully tagged kursovaya_main_backend:latest
Building frontend
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            Install the buildx component to build images with BuildKit:
            https://docs.docker.com/go/buildx/

Sending build context to Docker daemon  298.4MB
Step 1/12 : FROM node:18-alpine AS builder
 ---> ee77c6cd7c18
Step 2/12 : WORKDIR /app
 ---> Using cache
 ---> 43dc7a908e41
Step 3/12 : COPY package.json ./
 ---> Using cache
 ---> 3e5802be22e3
Step 4/12 : RUN npm install
 ---> Using cache
 ---> ae67426dbf08
Step 5/12 : COPY . .
 ---> 64baab407bca
Step 6/12 : ENV REACT_APP_API_URL=
 ---> Running in febdce183fce
 ---> Removed intermediate container febdce183fce
 ---> 2ff76e63b9a2
Step 7/12 : RUN npm run build
 ---> Running in 690721e32df5

> marketplace-tracker-frontend@0.1.0 build
> react-scripts build

Creating an optimized production build...
Compiled with warnings.

[eslint] 
src/components/Layout.js
  Line 2:10:  'Outlet' is defined but never used  no-unused-vars

src/components/MappingsView.js
  Line 10:3:  'Button' is defined but never used     no-unused-vars
  Line 18:3:  'CardMedia' is defined but never used  no-unused-vars
  Line 20:3:  'Divider' is defined but never used    no-unused-vars

src/components/StoresList.js
  Line 3:3:   'Table' is defined but never used           no-unused-vars
  Line 4:3:   'TableBody' is defined but never used       no-unused-vars
  Line 5:3:   'TableCell' is defined but never used       no-unused-vars
  Line 6:3:   'TableContainer' is defined but never used  no-unused-vars
  Line 7:3:   'TableHead' is defined but never used       no-unused-vars
  Line 8:3:   'TableRow' is defined but never used        no-unused-vars
  Line 9:3:   'Paper' is defined but never used           no-unused-vars
  Line 23:3:  'Divider' is defined but never used         no-unused-vars

src/pages/DashboardPage.js
  Line 26:17:  'setStats' is assigned a value but never used  no-unused-vars
  Line 32:9:   'theme' is assigned a value but never used     no-unused-vars

src/pages/LoginPage.js
  Line 26:9:  'theme' is assigned a value but never used  no-unused-vars

src/pages/RegisterPage.js
  Line 23:9:  'theme' is assigned a value but never used  no-unused-vars

src/utils/ThemeContext.js
  Line 15:9:  'systemPrefersDark' is assigned a value but never used  no-unused-vars

Search for the keywords to learn more about each warning.
To ignore, add // eslint-disable-next-line to the line before.

File sizes after gzip:

  147.84 kB  build/static/js/main.c5a2d099.js
  263 B      build/static/css/main.e6c13ad2.css

The project was built assuming it is hosted at /.
You can control this with the homepage field in your package.json.

The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build

Find out more about deployment here:

  https://cra.link/deployment

 ---> Removed intermediate container 690721e32df5
 ---> 08a798ddcf34
Step 8/12 : FROM nginx:alpine
 ---> d4918ca78576
Step 9/12 : COPY --from=builder /app/build /usr/share/nginx/html
 ---> f50722783098
Step 10/12 : COPY nginx.conf /etc/nginx/nginx.conf
 ---> 9bc0de25da9e
Step 11/12 : EXPOSE 80
 ---> Running in a6854e1dc170
 ---> Removed intermediate container a6854e1dc170
 ---> 905dfba084d1
Step 12/12 : CMD ["nginx", "-g", "daemon off;"]
 ---> Running in 7735bd8404b5
 ---> Removed intermediate container 7735bd8404b5
 ---> 9f0b7ee424df
Successfully built 9f0b7ee424df
Successfully tagged kursovaya_main_frontend:latest
Creating kursovaya_main_postgres_1 ... 
Creating kursovaya_main_postgres_1 ... done
Creating kursovaya_main_backend_1  ... 
Creating kursovaya_main_backend_1  ... done
Creating kursovaya_main_frontend_1 ... 
Creating kursovaya_main_frontend_1 ... done
Attaching to kursovaya_main_postgres_1, kursovaya_main_backend_1, kursovaya_main_frontend_1
[36mbackend_1   |[0m 2025/11/18 22:46:02 [WARNING] DB_PASSWORD is using default value - this is insecure for production
[36mbackend_1   |[0m 2025/11/18 22:46:02 [WARNING] JWT key should be at least 32 characters long for security in production
[32mpostgres_1  |[0m 
[32mpostgres_1  |[0m PostgreSQL Database directory appears to contain a database; Skipping initialization
[32mpostgres_1  |[0m 
[36mbackend_1   |[0m 2025/11/18 22:46:02 Connected to PostgreSQL database
[36mbackend_1   |[0m 2025/11/18 22:46:02 Database tables created successfully
[33mfrontend_1  |[0m /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration
[33mfrontend_1  |[0m /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/
[32mpostgres_1  |[0m 2025-11-18 22:46:02.629 UTC [1] LOG:  starting PostgreSQL 13.23 (Debian 13.23-1.pgdg13+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 14.2.0-19) 14.2.0, 64-bit
[36mbackend_1   |[0m 2025/11/18 22:46:02 ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð² Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…
[32mpostgres_1  |[0m 2025-11-18 22:46:02.630 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
[32mpostgres_1  |[0m 2025-11-18 22:46:02.630 UTC [1] LOG:  listening on IPv6 address "::", port 5432
[33mfrontend_1  |[0m /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh
[36mbackend_1   |[0m [GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.
[36mbackend_1   |[0m 
[36mbackend_1   |[0m [GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
[36mbackend_1   |[0m  - using env:	export GIN_MODE=release
[36mbackend_1   |[0m  - using code:	gin.SetMode(gin.ReleaseMode)
[36mbackend_1   |[0m 
[32mpostgres_1  |[0m 2025-11-18 22:46:02.633 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
[36mbackend_1   |[0m [GIN-debug] POST   /api/auth/register        --> kursovaya_backend/internal/handlers.(*AuthHandler).Register-fm (4 handlers)
[36mbackend_1   |[0m [GIN-debug] POST   /api/auth/login           --> kursovaya_backend/internal/handlers.(*AuthHandler).Login-fm (4 handlers)
[36mbackend_1   |[0m [GIN-debug] POST   /api/admin/login          --> kursovaya_backend/internal/handlers.(*AdminHandler).Login-fm (4 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /health                   --> kursovaya_backend/internal/routes.SetupRoutes.func1 (4 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/stores               --> kursovaya_backend/internal/handlers.(*StoreHandler).GetStores-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] POST   /api/stores               --> kursovaya_backend/internal/handlers.(*StoreHandler).AddStore-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] DELETE /api/stores/:id           --> kursovaya_backend/internal/handlers.(*StoreHandler).DeleteStore-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/products             --> kursovaya_backend/internal/handlers.(*ProductHandler).GetProducts-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/products/saved       --> kursovaya_backend/internal/handlers.(*ProductHandler).GetSavedProducts-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/mappings             --> kursovaya_backend/internal/handlers.(*MappingHandler).GetMappings-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] POST   /api/mappings             --> kursovaya_backend/internal/handlers.(*MappingHandler).CreateMapping-fm (5 handlers)
[32mpostgres_1  |[0m 2025-11-18 22:46:02.638 UTC [28] LOG:  database system was shut down at 2025-11-18 22:42:40 UTC
[36mbackend_1   |[0m [GIN-debug] DELETE /api/mappings/:id         --> kursovaya_backend/internal/handlers.(*MappingHandler).DeleteMapping-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/stats          --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetStats-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/users          --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetUsers-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/users/:id      --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetUser-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] DELETE /api/admin/users/:id      --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).DeleteUser-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/stores         --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetStores-fm (5 handlers)
[32mpostgres_1  |[0m 2025-11-18 22:46:02.647 UTC [1] LOG:  database system is ready to accept connections
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/stores/:id     --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetStore-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] DELETE /api/admin/stores/:id     --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).DeleteStore-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/products       --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetProducts-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/products/:id   --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetProduct-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] DELETE /api/admin/products/:id   --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).DeleteProduct-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/mappings       --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetMappings-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] GET    /api/admin/mappings/:id   --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).GetMapping-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] DELETE /api/admin/mappings/:id   --> kursovaya_backend/internal/handlers.(*AdminManagementHandler).DeleteMapping-fm (5 handlers)
[36mbackend_1   |[0m [GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
[36mbackend_1   |[0m Please check https://github.com/gin-gonic/gin/blob/master/docs/doc.md#dont-trust-all-proxies for details.
[36mbackend_1   |[0m [GIN-debug] Listening and serving HTTP on :8080
[36mbackend_1   |[0m 2025/11/18 22:46:02 Server starting on port 8080
[33mfrontend_1  |[0m 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
[33mfrontend_1  |[0m 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf
[33mfrontend_1  |[0m /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
[33mfrontend_1  |[0m /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
[33mfrontend_1  |[0m /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
[33mfrontend_1  |[0m /docker-entrypoint.sh: Configuration complete; ready for start up
[33mkursovaya_main_frontend_1 exited with code 0
[0m[36mkursovaya_main_backend_1 exited with code 2
[0m[32mpostgres_1  |[0m 2025-11-18 22:46:18.612 UTC [1] LOG:  received fast shutdown request
[32mpostgres_1  |[0m 2025-11-18 22:46:18.615 UTC [1] LOG:  aborting any active transactions
[32mpostgres_1  |[0m 2025-11-18 22:46:18.617 UTC [1] LOG:  background worker "logical replication launcher" (PID 34) exited with exit code 1
[32mpostgres_1  |[0m 2025-11-18 22:46:18.618 UTC [29] LOG:  shutting down
[32mpostgres_1  |[0m 2025-11-18 22:46:18.659 UTC [1] LOG:  database system is shut down
[32mkursovaya_main_postgres_1 exited with code 0
[0m